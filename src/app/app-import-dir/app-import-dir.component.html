<div>
    <md-card *ngIf="!processing" class="app-input-selection" >
      <md-card-title>Create a new Cryptarsi database</md-card-title>
      <md-card-subtitle>Give a name, select a directory, type a strong password (twice) and hit the red button</md-card-subtitle>
      <md-card-content>
        <form novalidate (ngSubmit)="submit()" >
            <md-input
                #dbName
                placeholder="Database Name"
                (change)="checkDbName"
                maxlength="50"
                md-tooltip="Enter new database name"
                tooltip-position="after"
                (change)="validateDbName()"
                class="app-input"
            >
                <md-hint #dbNameHint align="end">
                    {{dbName.characterCount}}/50
                </md-hint>
            </md-input><br>
            <md-input
                type="password"
                #encKey1
                placeholder="Password"
                maxlength="128"
                dividerColor="accent"
                md-tooltip="Enter the password for this database"
                tooltip-position="after"
                (change)="validateKeys()"
                class="app-input"
            >
            </md-input><br>
            <md-input
                type="password"
                #encKey2
                placeholder="Repeat Password"
                maxlength="128"
                md-tooltip="Enter the password again"
                tooltip-position="after"
                dividerColor="accent"
                (change)="validateKeys()"
                class="app-input"
            >
            </md-input><br><br>
            <label for=dirName>
            <input
                #dirName
                id="dirName"
                type="file"
                webkitdirectory mozdirectory msdirectory odirectory directory
                multiple
                (change)="onDirChange($event)"
                class="app-input"
            >
            </label><br><br>
            <button type="submit" md-mini-fab color="warn" (click)="menuSelected='importDir'" md-tooltip="Create new database" tooltip-position="after">
    <md-icon class="md-24">add</md-icon>
</button>
        </form>
        </md-card-content>
    </md-card>

    <md-card *ngIf="processing">
      <md-card-title>Wait...</md-card-title>
      <md-card-subtitle>Your data is imported, encrypted and indexed for search.</md-card-subtitle>
      <md-card-content>
        <label>
            <div>
                <div>{{filename}}</div>
                <div>{{nofile}} of {{nofiles}}</div>
                <div>Total Progress: {{progress}}%</div>
            </div>
            <br>
            <md-progress-bar
                class="app-progress"
                color="accent"
                mode="determinate"
                [value]="progress"
                aria-label="Progress bar"></md-progress-bar>
        </label>
      </md-card-content>
    </md-card>
</div>
